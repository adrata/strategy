<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CFO/CRO Pipeline - Mermaid Diagram</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 28px;
        }
        .mermaid {
            margin: 20px 0;
            text-align: center;
        }
        .status {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: #e8f5e9;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
        }
        .status h3 {
            margin: 0 0 10px 0;
            color: #2e7d32;
        }
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        .metric-value {
            font-size: 32px;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 14px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ CFO/CRO Discovery Pipeline</h1>
        
        <div class="status">
            <h3>âœ… Pipeline Status: Ready to Run</h3>
            <p>Your function-based pipeline with 3-tier discovery strategy</p>
        </div>

        <div class="mermaid">
graph TB
    Start([ğŸ¢ Company Input<br/>Microsoft, Apple, Google]) --> Load[ğŸ“‹ Load Companies<br/>Parse CSV, Validate URLs]
    
    Load --> Resolve[ğŸ¢ Resolve Company<br/>Extract domain, Get company ID<br/>Detect size: Large/Small/Startup]
    
    Resolve --> Strategy{ğŸ¯ Discovery Strategy<br/>Based on Company Size}
    
    Strategy -->|Large Companies| CS1[ğŸ“Š CoreSignal API<br/>Multi-source discovery<br/>1000+ employees]
    Strategy -->|Small Companies| CS2[ğŸ“Š CoreSignal + Research<br/>51-500 employees]
    Strategy -->|Startups| Research[ğŸ” Leadership Scraping<br/>1-50 employees]
    
    CS1 --> Found1{CFO/CRO Found?}
    CS2 --> Found2{CFO/CRO Found?}
    Research --> Found3{CFO/CRO Found?}
    
    Found1 -->|No| Fallback1[ğŸ” Executive Research<br/>Leadership page scraping]
    Found2 -->|No| Fallback2[ğŸ” Executive Research<br/>Leadership page scraping]
    Found3 -->|No| Fallback3[ğŸ¤– AI Research<br/>Claude AI - No LinkedIn scraping]
    
    Found1 -->|Yes| Verify[âœ… Verify Contacts]
    Found2 -->|Yes| Verify
    Found3 -->|Yes| Verify
    Fallback1 --> Verify
    Fallback2 --> Verify
    Fallback3 --> Verify
    
    Verify --> Parallel{âš¡ Parallel Verification}
    
    Parallel --> Email[ğŸ“§ Email Verification<br/>ZeroBounce + MyEmailVerifier]
    Parallel --> Phone[ğŸ“ Phone Verification<br/>People Data Labs + Prospeo]
    Parallel --> Person[ğŸ‘¤ Person Verification<br/>Lusha API]
    
    Email --> Merge[ğŸ”„ Merge Results<br/>Combine all verification data]
    Phone --> Merge
    Person --> Merge
    
    Merge --> Save[ğŸ’¾ Save Results<br/>CSV + JSON output<br/>Track credits used]
    
    Save --> End([âœ… Complete<br/>Executive contacts ready])
    
    style Start fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style Strategy fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style CS1 fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style CS2 fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style Research fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style Fallback3 fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style Parallel fill:#bbdefb,stroke:#1565c0,stroke-width:2px
    style Verify fill:#bbdefb,stroke:#1565c0,stroke-width:2px
    style Save fill:#f3e5f5,stroke:#6a1b9a,stroke-width:3px
    style End fill:#c8e6c9,stroke:#2e7d32,stroke-width:3px
        </div>

        <div class="metrics">
            <div class="metric-card">
                <div class="metric-label">Discovery Rate</div>
                <div class="metric-value">90%+</div>
                <div class="metric-label">CFO/CRO found</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Email Accuracy</div>
                <div class="metric-value">80%+</div>
                <div class="metric-label">Verified emails</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Phone Accuracy</div>
                <div class="metric-value">70%+</div>
                <div class="metric-label">Verified phones</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Cost Target</div>
                <div class="metric-value">&lt;$0.50</div>
                <div class="metric-label">Per successful discovery</div>
            </div>
        </div>

        <div class="status">
            <h3>ğŸš€ Key Features</h3>
            <ul style="text-align: left; max-width: 600px; margin: 0 auto;">
                <li><strong>Function-Based Architecture:</strong> Pure functions, idempotent, testable</li>
                <li><strong>3-Tier Discovery:</strong> CoreSignal â†’ Executive Research â†’ AI Research</li>
                <li><strong>Size-Based Strategy:</strong> Different approaches for startups vs enterprises</li>
                <li><strong>Parallel Verification:</strong> Email, phone, and person verification run simultaneously</li>
                <li><strong>Claude AI Integration:</strong> No LinkedIn scraping, uses publicly available data</li>
                <li><strong>Real-Time Monitoring:</strong> Progress tracking, cost monitoring, error handling</li>
            </ul>
        </div>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                fontSize: '14px',
                fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
            }
        });
    </script>
</body>
</html>
