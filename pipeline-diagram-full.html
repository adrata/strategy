<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CFO/CRO Pipeline - Full Detailed Diagram</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f0f2f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .mermaid {
            margin: 20px 0;
        }
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        .metric-value {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 14px;
            opacity: 0.9;
        }
        .features {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .features h3 {
            margin-top: 0;
            color: #333;
        }
        .features ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .features li {
            margin: 8px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ CFO/CRO Discovery Pipeline - Complete Flow</h1>
        
        <div class="mermaid">
graph TB
    Start([ğŸ¢ Company Input<br/>Microsoft, Apple, Google<br/>CSV File]) --> Load[ğŸ“‹ Load Companies<br/>Parse CSV, Validate URLs<br/>Extract domains]
    
    Load --> Resolve[ğŸ¢ Resolve Company<br/>Extract domain from URL<br/>Get company ID from CoreSignal<br/>Detect company size]
    
    Resolve --> Size{ğŸ¯ Company Size<br/>Detection}
    
    Size -->|Large 1000+| Large[ğŸ“Š Large Company Strategy<br/>CoreSignal Comprehensive<br/>Multi-source discovery]
    Size -->|Medium 51-500| Medium[ğŸ“Š Medium Company Strategy<br/>CoreSignal + Executive Research<br/>Balanced approach]
    Size -->|Small 1-50| Small[ğŸ“Š Startup Strategy<br/>Leadership Scraping First<br/>AI Research fallback]
    
    Large --> CS1[ğŸ” CoreSignal API<br/>Search for CFO/CRO<br/>Multi-tier role matching]
    Medium --> CS2[ğŸ” CoreSignal API<br/>Search for CFO/CRO<br/>Multi-tier role matching]
    Small --> Research[ğŸ” Leadership Scraping<br/>Company website analysis<br/>Executive page parsing]
    
    CS1 --> Found1{CFO/CRO Found?}
    CS2 --> Found2{CFO/CRO Found?}
    Research --> Found3{CFO/CRO Found?}
    
    Found1 -->|No| Fallback1[ğŸ” Executive Research<br/>Leadership page scraping<br/>Company website analysis]
    Found2 -->|No| Fallback2[ğŸ” Executive Research<br/>Leadership page scraping<br/>Company website analysis]
    Found3 -->|No| AI[ğŸ¤– AI Research<br/>Claude AI analysis<br/>Public business data only<br/>NO LinkedIn scraping]
    
    Found1 -->|Yes| Verify[âœ… Verify Contacts]
    Found2 -->|Yes| Verify
    Found3 -->|Yes| Verify
    Fallback1 --> Verify
    Fallback2 --> Verify
    AI --> Verify
    
    Verify --> Parallel{âš¡ Parallel Verification<br/>3 APIs running simultaneously}
    
    Parallel --> Email[ğŸ“§ Email Verification<br/>ZeroBounce API<br/>MyEmailVerifier API<br/>Multi-layer validation]
    Parallel --> Phone[ğŸ“ Phone Verification<br/>People Data Labs API<br/>Prospeo Mobile API<br/>LinkedIn URL validation]
    Parallel --> Person[ğŸ‘¤ Person Verification<br/>Lusha API<br/>Identity confirmation<br/>Employment status]
    
    Email --> Merge[ğŸ”„ Merge Results<br/>Combine all verification data<br/>Calculate confidence scores<br/>Apply business rules]
    Phone --> Merge
    Person --> Merge
    
    Merge --> Save[ğŸ’¾ Save Results<br/>CSV output with contacts<br/>JSON backup with metadata<br/>Track API credits used<br/>Generate efficacy report]
    
    Save --> End([âœ… Pipeline Complete<br/>Executive contacts ready<br/>Cost: <$0.50 per discovery<br/>Success rate: 90%+])
    
    style Start fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style Size fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style Large fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style Medium fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style Small fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style AI fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style Parallel fill:#bbdefb,stroke:#1565c0,stroke-width:2px
    style Verify fill:#bbdefb,stroke:#1565c0,stroke-width:2px
    style Save fill:#f3e5f5,stroke:#6a1b9a,stroke-width:3px
    style End fill:#c8e6c9,stroke:#2e7d32,stroke-width:3px
        </div>

        <div class="metrics">
            <div class="metric-card">
                <div class="metric-label">Discovery Rate</div>
                <div class="metric-value">90%+</div>
                <div class="metric-label">CFO/CRO found</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Email Accuracy</div>
                <div class="metric-value">80%+</div>
                <div class="metric-label">Verified emails</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Phone Accuracy</div>
                <div class="metric-value">70%+</div>
                <div class="metric-label">Verified phones</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Cost Target</div>
                <div class="metric-value">&lt;$0.50</div>
                <div class="metric-label">Per successful discovery</div>
            </div>
        </div>

        <div class="features">
            <h3>ğŸš€ Key Features</h3>
            <ul>
                <li><strong>Function-Based Architecture:</strong> Pure functions, idempotent, testable, follows 2025 best practices</li>
                <li><strong>3-Tier Discovery Strategy:</strong> CoreSignal â†’ Executive Research â†’ AI Research (Claude)</li>
                <li><strong>Size-Based Optimization:</strong> Different strategies for startups vs enterprises</li>
                <li><strong>Parallel Verification:</strong> Email, phone, and person verification run simultaneously (3x faster)</li>
                <li><strong>Claude AI Integration:</strong> No LinkedIn scraping, uses only publicly available business data</li>
                <li><strong>Multi-Source Validation:</strong> 6+ APIs for maximum accuracy and confidence</li>
                <li><strong>Real-Time Monitoring:</strong> Progress tracking, cost monitoring, error handling</li>
                <li><strong>Comprehensive Output:</strong> CSV + JSON with full metadata and source attribution</li>
            </ul>
        </div>

        <div class="features">
            <h3>ğŸ“Š API Integration</h3>
            <ul>
                <li><strong>CoreSignal:</strong> Company and employee discovery</li>
                <li><strong>Claude AI:</strong> Executive research (no LinkedIn scraping)</li>
                <li><strong>Lusha:</strong> Person verification and contact enrichment</li>
                <li><strong>ZeroBounce:</strong> Email validation and deliverability</li>
                <li><strong>MyEmailVerifier:</strong> Secondary email validation</li>
                <li><strong>People Data Labs:</strong> Phone number discovery and verification</li>
                <li><strong>Prospeo Mobile:</strong> Mobile phone number lookup</li>
            </ul>
        </div>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                fontSize: '12px'
            }
        });
    </script>
</body>
</html>
